(window.webpackJsonp=window.webpackJsonp||[]).push([[12],{342:function(t,s,a){"use strict";a.r(s);var e=a(0),r=Object(e.a)({},(function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[a("h1",{attrs:{id:"安装"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#安装"}},[t._v("#")]),t._v(" 安装")]),t._v(" "),a("div",{staticClass:"custom-block tip"},[a("p",[t._v("安装 Docker 要求 CentOS 系统的内核版本在 3.10 以上(一般在 CentOS 7 以上版本)")])]),t._v(" "),a("h2",{attrs:{id:"linux-下安装"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#linux-下安装"}},[t._v("#")]),t._v(" Linux 下安装")]),t._v(" "),a("h3",{attrs:{id:"查看内核版本"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#查看内核版本"}},[t._v("#")]),t._v(" 查看内核版本")]),t._v(" "),a("p",[t._v("通过 "),a("code",[t._v("uname -r")]),t._v(" 命令查看内核版本，版本高于等于我的即可")]),t._v(" "),a("p",[a("img",{attrs:{src:"https://user-images.githubusercontent.com/35051245/61993224-34935100-b09b-11e9-991e-868be21dc699.png",alt:"image"}})]),t._v(" "),a("h3",{attrs:{id:"更新-yum-包"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#更新-yum-包"}},[t._v("#")]),t._v(" 更新 "),a("a",{attrs:{href:"https://www.jianshu.com/p/5b49c3862630",target:"_blank",rel:"noopener noreferrer"}},[t._v("yum"),a("OutboundLink")],1),t._v(" 包")]),t._v(" "),a("p",[t._v("运行 "),a("code",[t._v("yum -y update")]),t._v(" 命令 ，使用 root 权限登录 Centos。确保 yum 包更新到最新，否则会出现很多未知问题。")]),t._v(" "),a("p",[a("img",{attrs:{src:"https://user-images.githubusercontent.com/35051245/61994081-7d9dd200-b0a8-11e9-99e0-27fa378e12b3.png",alt:"image"}})]),t._v(" "),a("h3",{attrs:{id:"卸载旧版本"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#卸载旧版本"}},[t._v("#")]),t._v(" 卸载旧版本")]),t._v(" "),a("p",[t._v("如果之前已经安装过 Docker,可以使用此命令删除")]),t._v(" "),a("p",[a("code",[t._v("yum remove docker docker-common docker-selinux docker-engine")])]),t._v(" "),a("h3",{attrs:{id:"安装需要的软件包"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#安装需要的软件包"}},[t._v("#")]),t._v(" 安装需要的软件包")]),t._v(" "),a("p",[a("code",[t._v("yum install -y yum-utils device-mapper-persistent-data lvm2")])]),t._v(" "),a("p",[a("img",{attrs:{src:"https://user-images.githubusercontent.com/35051245/61994238-c787b780-b0aa-11e9-9f90-67a8fbcb41f6.png",alt:"image"}})]),t._v(" "),a("h3",{attrs:{id:"设置-yum-源"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#设置-yum-源"}},[t._v("#")]),t._v(" 设置 yum 源")]),t._v(" "),a("p",[a("code",[t._v("yum-config-manager --add-repo https://download.docker.com/linux/centos/docker-ce.repo")])]),t._v(" "),a("p",[a("img",{attrs:{src:"https://user-images.githubusercontent.com/35051245/61994299-ec305f00-b0ab-11e9-95f7-279e6e7cba9b.png",alt:"image"}})]),t._v(" "),a("h3",{attrs:{id:"查看所有仓库中所有-docker-版本"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#查看所有仓库中所有-docker-版本"}},[t._v("#")]),t._v(" 查看所有仓库中所有 docker 版本")]),t._v(" "),a("p",[a("code",[t._v("yum list docker-ce --showduplicates | sort -r")])]),t._v(" "),a("p",[a("img",{attrs:{src:"https://user-images.githubusercontent.com/35051245/61994863-e722de00-b0b2-11e9-97ce-f6a66450f21c.png",alt:"image"}})]),t._v(" "),a("h3",{attrs:{id:"安装-2"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#安装-2"}},[t._v("#")]),t._v(" 安装")]),t._v(" "),a("p",[t._v("由于 repo 中默认只开启 stable 仓库，故这里安装的是最新稳定版 19.03.1")]),t._v(" "),a("p",[a("code",[t._v("sudo yum install -y docker-ce")])]),t._v(" "),a("h3",{attrs:{id:"查看版本"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#查看版本"}},[t._v("#")]),t._v(" 查看版本")]),t._v(" "),a("p",[a("code",[t._v("docker version")])]),t._v(" "),a("p",[a("img",{attrs:{src:"https://user-images.githubusercontent.com/35051245/61995156-fad04380-b0b6-11e9-8206-f03e83c135eb.png",alt:"image"}})]),t._v(" "),a("h3",{attrs:{id:"启动并加入开机启动"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#启动并加入开机启动"}},[t._v("#")]),t._v(" 启动并加入开机启动")]),t._v(" "),a("p",[a("code",[t._v("systemctl start docker")]),t._v(" "),a("code",[t._v("systemctl enable docker")])]),t._v(" "),a("h3",{attrs:{id:"镜像"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#镜像"}},[t._v("#")]),t._v(" 镜像")]),t._v(" "),a("div",{staticClass:"custom-block warning"},[a("p",[t._v("如果使用官方的镜像地址，下载速度会特别慢，这里我们配置阿里镜像")])]),t._v(" "),a("h3",{attrs:{id:"配置阿里镜像"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#配置阿里镜像"}},[t._v("#")]),t._v(" 配置阿里镜像")]),t._v(" "),a("p",[t._v("详细可以参考 "),a("a",{attrs:{href:"https://cr.console.aliyun.com/cn-hangzhou/mirrors",target:"_blank",rel:"noopener noreferrer"}},[t._v("https://cr.console.aliyun.com/cn-hangzhou/mirrors"),a("OutboundLink")],1)]),t._v(" "),a("div",{staticClass:"language-js line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[t._v("sudo mkdir "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("p "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("etc"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("docker\nsudo tee "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("etc"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("docker"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("daemon"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("json "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<<")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'EOF'")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"registry-mirrors"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"https://6uxh0lql.mirror.aliyuncs.com"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token constant"}},[t._v("EOF")]),t._v("\nsudo systemctl daemon"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("reload\nsudo systemctl restart docker\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br"),a("span",{staticClass:"line-number"},[t._v("4")]),a("br"),a("span",{staticClass:"line-number"},[t._v("5")]),a("br"),a("span",{staticClass:"line-number"},[t._v("6")]),a("br"),a("span",{staticClass:"line-number"},[t._v("7")]),a("br"),a("span",{staticClass:"line-number"},[t._v("8")]),a("br")])]),a("h2",{attrs:{id:"windows-下安装"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#windows-下安装"}},[t._v("#")]),t._v(" windows 下安装")]),t._v(" "),a("h3",{attrs:{id:"说明"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#说明"}},[t._v("#")]),t._v(" 说明")]),t._v(" "),a("div",{staticClass:"custom-block tip"},[a("p",[t._v("在 Windows 10 家庭中文版 下安装 docker")])]),t._v(" "),a("h3",{attrs:{id:"开启-hyper-v"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#开启-hyper-v"}},[t._v("#")]),t._v(" 开启 Hyper-V")]),t._v(" "),a("p",[t._v("新建"),a("em",[t._v("hyperv.cmd")]),t._v("文件，内容如下：")]),t._v(" "),a("div",{staticClass:"language-sh line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[t._v("pushd")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"%~dp0"')]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("dir")]),t._v(" /b %SystemRoot%"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("servicing"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("Packages"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("*Hyper-V*.mum "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("hyper-v.txt\n\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("for")]),t._v(" /f %%i "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("in")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'findstr /i . hyper-v.txt 2^>nul'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("do")]),t._v(" dism /online /norestart /add-package:"),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"%SystemRoot%\\servicing\\Packages\\%%i"')]),t._v("\n\ndel hyper-v.txt\n\nDism /online /enable-feature /featurename:Microsoft-Hyper-V-All /LimitAccess /ALL\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br"),a("span",{staticClass:"line-number"},[t._v("4")]),a("br"),a("span",{staticClass:"line-number"},[t._v("5")]),a("br"),a("span",{staticClass:"line-number"},[t._v("6")]),a("br"),a("span",{staticClass:"line-number"},[t._v("7")]),a("br"),a("span",{staticClass:"line-number"},[t._v("8")]),a("br"),a("span",{staticClass:"line-number"},[t._v("9")]),a("br")])]),a("p",[t._v("已管理员身份运行"),a("em",[t._v("hyperv.cmd")])]),t._v(" "),a("p",[a("img",{attrs:{src:"https://github.com/Houttuyniae/Image/blob/master/blog/server/docker/base/Hyper-V.png?raw=true",alt:""}})]),t._v(" "),a("p",[t._v("提示重启时,则重新启动电脑")]),t._v(" "),a("h3",{attrs:{id:"伪装成-win10-专业版"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#伪装成-win10-专业版"}},[t._v("#")]),t._v(" 伪装成 win10 专业版")]),t._v(" "),a("p",[t._v("以管理员身份打开 cmd。\n执行如下命令：")]),t._v(" "),a("div",{staticClass:"custom-block tip"},[a("p",[t._v("一定要以管理员身份打开，否则无法执行")])]),t._v(" "),a("div",{staticClass:"language-sh line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[t._v("REG ADD "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"HKEY_LOCAL_MACHINE\\software\\Microsoft\\Windows NT\\CurrentVersion"')]),t._v(" /v EditionId /T REG_EXPAND_SZ /d Professional /F\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br")])]),a("p",[a("img",{attrs:{src:"https://github.com/Houttuyniae/Image/blob/master/blog/server/docker/base/cmd.jpg?raw=true",alt:""}})]),t._v(" "),a("h3",{attrs:{id:"官网下载-docker-for-windows"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#官网下载-docker-for-windows"}},[t._v("#")]),t._v(" 官网下载 Docker for Windows")]),t._v(" "),a("p",[a("a",{attrs:{href:"https://www.docker.com/",target:"_blank",rel:"noopener noreferrer"}},[t._v("https://www.docker.com/"),a("OutboundLink")],1)]),t._v(" "),a("p",[t._v("下载 window 安装包后，点击安装")]),t._v(" "),a("h3",{attrs:{id:"配置阿里镜像-2"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#配置阿里镜像-2"}},[t._v("#")]),t._v(" 配置阿里镜像")]),t._v(" "),a("p",[t._v("windows 版本的 docker 同样需要配置镜像，否则可能出现网络连接不上")]),t._v(" "),a("p",[a("img",{attrs:{src:"https://imgsa.baidu.com/exp/pic/item/964b2e4e251f95cab98c82e6c4177f3e67095221.jpg",alt:""}})]),t._v(" "),a("p",[a("img",{attrs:{src:"https://imgsa.baidu.com/exp/pic/item/b110e6198618367a67cf6f8d23738bd4b21ce5d9.jpg",alt:""}})]),t._v(" "),a("p",[a("img",{attrs:{src:"https://imgsa.baidu.com/exp/pic/item/1a94b36eddc451da09aa1cbbbbfd5266d11632c6.jpg",alt:""}})]),t._v(" "),a("p",[a("img",{attrs:{src:"https://imgsa.baidu.com/exp/pic/item/a6c7d7177f3e6709a47955af36c79f3df8dc5521.jpg",alt:""}})]),t._v(" "),a("p",[a("img",{attrs:{src:"https://imgsa.baidu.com/exp/pic/item/cc506c8b4710b912b0b8e6aecefdfc0392452221.jpg",alt:""}})]),t._v(" "),a("p",[t._v("填上与上面相同的地址")])])}),[],!1,null,null,null);s.default=r.exports}}]);