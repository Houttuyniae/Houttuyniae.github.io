(window.webpackJsonp=window.webpackJsonp||[]).push([[14],{337:function(t,a,s){"use strict";s.r(a);var e=s(0),n=Object(e.a)({},(function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[s("h1",{attrs:{id:"基础语法"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#基础语法"}},[t._v("#")]),t._v(" 基础语法")]),t._v(" "),s("p",[s("font",{attrs:{size:"4"}},[s("strong",[t._v("提示帮助")])])],1),t._v(" "),s("ol",[s("li",[s("p",[t._v("输入 docker 命令来查看到 Docker 客户端的所有命令选项。")])]),t._v(" "),s("li",[s("p",[t._v("通过命令 docker command --help 更深入的了解指定的 Docker 命令使用方法。")]),t._v(" "),s("p",[t._v("例如 "),s("code",[t._v("docker images --help")])])])]),t._v(" "),s("h2",{attrs:{id:"image"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#image"}},[t._v("#")]),t._v(" Image")]),t._v(" "),s("h3",{attrs:{id:"搜索镜像"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#搜索镜像"}},[t._v("#")]),t._v(" 搜索镜像")]),t._v(" "),s("p",[s("code",[t._v("docker search [OPTIONS] TERM")])]),t._v(" "),s("ul",[s("li",[s("p",[s("strong",[t._v("--automated")]),t._v(" : 只列出 automated build 类型的镜像；")])]),t._v(" "),s("li",[s("p",[s("strong",[t._v("--no-trunc")]),t._v(" : 显示完整的镜像描述；")])]),t._v(" "),s("li",[s("p",[s("strong",[t._v("-s")]),t._v(" : 列出收藏数不小于指定值的镜像。")])])]),t._v(" "),s("p",[s("code",[t._v("docker search java")]),t._v(" "),s("br")]),t._v(" "),s("p",[t._v("Docker 就会在 Docker Hub 中搜索含有 java 这个关键词的镜像仓库。")]),t._v(" "),s("div",{staticClass:"language-js line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("root@VM_0_9_centos "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("~")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("# docker search java\n"),s("span",{pre:!0,attrs:{class:"token constant"}},[t._v("NAME")]),t._v("    "),s("span",{pre:!0,attrs:{class:"token constant"}},[t._v("DESCRIPTION")]),t._v("            "),s("span",{pre:!0,attrs:{class:"token constant"}},[t._v("STARS")]),t._v("     "),s("span",{pre:!0,attrs:{class:"token constant"}},[t._v("OFFICIAL")]),t._v("   "),s("span",{pre:!0,attrs:{class:"token constant"}},[t._v("AUTOMATED")]),t._v("\nnode    Node"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("js is a …          "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("7710")]),t._v("      "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),s("span",{pre:!0,attrs:{class:"token constant"}},[t._v("OK")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\ntomcat  Apache Tomcat is i…     "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("2490")]),t._v("      "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),s("span",{pre:!0,attrs:{class:"token constant"}},[t._v("OK")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\njava    Java is a concurrent"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" … "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1976")]),t._v("      "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),s("span",{pre:!0,attrs:{class:"token constant"}},[t._v("OK")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\nopenjdk OpenJDK is an  …        "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1829")]),t._v("      "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),s("span",{pre:!0,attrs:{class:"token constant"}},[t._v("OK")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n····\n····\n\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br"),s("span",{staticClass:"line-number"},[t._v("4")]),s("br"),s("span",{staticClass:"line-number"},[t._v("5")]),s("br"),s("span",{staticClass:"line-number"},[t._v("6")]),s("br"),s("span",{staticClass:"line-number"},[t._v("7")]),s("br"),s("span",{staticClass:"line-number"},[t._v("8")]),s("br"),s("span",{staticClass:"line-number"},[t._v("9")]),s("br"),s("span",{staticClass:"line-number"},[t._v("10")]),s("br")])]),s("p",[t._v("在列出信息中，可以看到几个字段信息")]),t._v(" "),s("ul",[s("li",[s("p",[t._v("镜像的名字")])]),t._v(" "),s("li",[s("p",[t._v("镜像描述")])]),t._v(" "),s("li",[s("p",[t._v("类是 github 的 Stars,点赞数")])]),t._v(" "),s("li",[s("p",[t._v("正式版本")])])]),t._v(" "),s("h3",{attrs:{id:"下载镜像"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#下载镜像"}},[t._v("#")]),t._v(" 下载镜像")]),t._v(" "),s("p",[s("code",[t._v("docker pull java:8")]),t._v(" "),s("br")]),t._v(" "),s("p",[t._v("使用命令 docker pull 命令即可从 Docker Registry 上下载镜像，执行该命令后，Docker 会从 Docker Hub 中的 java 仓库下载最新版本的 Java 镜像。")]),t._v(" "),s("div",{staticClass:"custom-block tip"},[s("p",[s("strong",[t._v("如果要下载指定版本则在 java 后面加冒号指定版本")])])]),t._v(" "),s("div",{staticClass:"language-js line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("root@VM_0_9_centos "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("~")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("# docker pull java"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("8")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("8")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" Pulling "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" library"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("java\n"),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("5040")]),t._v("bd298390"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" Pull complete\nfce5728aad85"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" Pull complete\n"),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("76610")]),t._v("ec20bf5"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" Pull complete\n"),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("60170")]),t._v("fec2151"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" Pull complete\ne98f73de8f0d"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" Pull complete\n"),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("11")]),t._v("f7af24ed9c"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" Pull complete\n"),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("49e2")]),t._v("d6393f32"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" Pull complete\nbb9cdec9c7f3"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" Pull complete\nDigest"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" sha256"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("c1ff613e8ba25833d2e1940da0940c3824f03f80"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("...")]),t._v("\nStatus"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" Downloaded newer image "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("for")]),t._v(" java"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("8")]),t._v("\ndocker"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("io"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("library"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("java"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("8")]),t._v("\n\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br"),s("span",{staticClass:"line-number"},[t._v("4")]),s("br"),s("span",{staticClass:"line-number"},[t._v("5")]),s("br"),s("span",{staticClass:"line-number"},[t._v("6")]),s("br"),s("span",{staticClass:"line-number"},[t._v("7")]),s("br"),s("span",{staticClass:"line-number"},[t._v("8")]),s("br"),s("span",{staticClass:"line-number"},[t._v("9")]),s("br"),s("span",{staticClass:"line-number"},[t._v("10")]),s("br"),s("span",{staticClass:"line-number"},[t._v("11")]),s("br"),s("span",{staticClass:"line-number"},[t._v("12")]),s("br"),s("span",{staticClass:"line-number"},[t._v("13")]),s("br"),s("span",{staticClass:"line-number"},[t._v("14")]),s("br"),s("span",{staticClass:"line-number"},[t._v("15")]),s("br")])]),s("h3",{attrs:{id:"列出已下载的镜像"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#列出已下载的镜像"}},[t._v("#")]),t._v(" 列出已下载的镜像")]),t._v(" "),s("p",[s("code",[t._v("docker images")]),t._v(" "),s("br")]),t._v(" "),s("p",[t._v("使用 docker images 命令即可列出已下载的镜像")]),t._v(" "),s("div",{staticClass:"language-js line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[t._v("\n"),s("span",{pre:!0,attrs:{class:"token constant"}},[t._v("REPOSITORY")]),t._v("     "),s("span",{pre:!0,attrs:{class:"token constant"}},[t._v("TAG")]),t._v("       "),s("span",{pre:!0,attrs:{class:"token constant"}},[t._v("IMAGE")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token constant"}},[t._v("ID")]),t._v("         "),s("span",{pre:!0,attrs:{class:"token constant"}},[t._v("CREATED")]),t._v("           "),s("span",{pre:!0,attrs:{class:"token constant"}},[t._v("SIZE")]),t._v("\nhello"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("world    latest    fce289e99eb9     "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("7")]),t._v(" months ago      "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1.84")]),t._v("kB\njava            "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("8")]),t._v("        d23bdf5b1b1b     "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("2")]),t._v(" years ago       "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("643")]),t._v("MB\n\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br"),s("span",{staticClass:"line-number"},[t._v("4")]),s("br"),s("span",{staticClass:"line-number"},[t._v("5")]),s("br")])]),s("p",[t._v("在列出信息中，可以看到几个字段信息")]),t._v(" "),s("ul",[s("li",[s("p",[s("strong",[t._v("REPOSITORY")]),t._v("：表示镜像的仓库源")])]),t._v(" "),s("li",[s("p",[s("strong",[t._v("TAG")]),t._v("：镜像的标签(版本)")])]),t._v(" "),s("li",[s("p",[s("strong",[t._v("IMAGE ID")]),t._v("：镜像 ID")])]),t._v(" "),s("li",[s("p",[s("strong",[t._v("CREATED")]),t._v("：镜像创建时间")])]),t._v(" "),s("li",[s("p",[s("strong",[t._v("SIZE")]),t._v("：镜像大小")])])]),t._v(" "),s("p",[t._v("OPTIONS 参数")]),t._v(" "),s("table",[s("thead",[s("tr",[s("th",{staticStyle:{"text-align":"center"}},[t._v("名称,简写")]),t._v(" "),s("th",{staticStyle:{"text-align":"center"}},[t._v("描述")])])]),t._v(" "),s("tbody",[s("tr",[s("td",{staticStyle:{"text-align":"center"}},[t._v("-a")]),t._v(" "),s("td",{staticStyle:{"text-align":"center"}},[t._v("展示全部镜像(默认隐藏中间镜像)")])]),t._v(" "),s("tr",[s("td",{staticStyle:{"text-align":"center"}},[t._v("-f")]),t._v(" "),s("td",{staticStyle:{"text-align":"center"}},[t._v("条件过滤")])]),t._v(" "),s("tr",[s("td",{staticStyle:{"text-align":"center"}},[t._v("-q")]),t._v(" "),s("td",{staticStyle:{"text-align":"center"}},[t._v("只显示 id")])])])]),t._v(" "),s("h3",{attrs:{id:"删除镜像"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#删除镜像"}},[t._v("#")]),t._v(" 删除镜像")]),t._v(" "),s("p",[s("code",[t._v("docker rmi java")]),t._v(" "),s("br")]),t._v(" "),s("p",[t._v("使用 docker rmi id 命令即可删除指定镜像"),s("br")]),t._v(" "),s("p",[t._v("id 通过 docker images 中取得"),s("br")]),t._v(" "),s("p",[t._v("docker rmi [ id | name ]")]),t._v(" "),s("p",[t._v("OPTIONS 参数")]),t._v(" "),s("table",[s("thead",[s("tr",[s("th",{staticStyle:{"text-align":"center"}},[t._v("名称,简写")]),t._v(" "),s("th",{staticStyle:{"text-align":"center"}},[t._v("描述")])])]),t._v(" "),s("tbody",[s("tr",[s("td",{staticStyle:{"text-align":"center"}},[t._v("-f")]),t._v(" "),s("td",{staticStyle:{"text-align":"center"}},[t._v("强制删除")])])])]),t._v(" "),s("p",[t._v("删除全部镜像\n"),s("code",[t._v("docker rmi -f $(docker images -qa)")])]),t._v(" "),s("div",{staticClass:"custom-block danger"},[s("p",[t._v("如果提示 "),s("br"),t._v("\nError response from daemon: conflict: unable to delete fce289e99eb9 (must be forced) - image is being used by stopped container 175b3f9741b7"),s("br")]),t._v(" "),s("p",[t._v("先删除容器 "),s("code",[t._v("docker rm <containerID>")]),t._v(",在删除镜像")])]),t._v(" "),s("h3",{attrs:{id:"创建镜像"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#创建镜像"}},[t._v("#")]),t._v(" 创建镜像")]),t._v(" "),s("p",[t._v("当我们从 docker 镜像仓库中下载的镜像不能满足我们的需求时，我们可以通过以下两种方式对镜像进行更改")]),t._v(" "),s("ol",[s("li",[s("p",[t._v("从已经创建的容器中更新镜像，并且提交这个镜像")])]),t._v(" "),s("li",[s("p",[t._v("使用 Dockerfile 指令来创建一个新的镜像")])])]),t._v(" "),s("h4",{attrs:{id:"更新镜像"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#更新镜像"}},[t._v("#")]),t._v(" 更新镜像")]),t._v(" "),s("h2",{attrs:{id:"container"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#container"}},[t._v("#")]),t._v(" Container")]),t._v(" "),s("h3",{attrs:{id:"列出容器"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#列出容器"}},[t._v("#")]),t._v(" 列出容器")]),t._v(" "),s("p",[s("code",[t._v("docker container ls [options]")]),t._v(" 命令用于列出所有容器。")]),t._v(" "),s("p",[t._v("执行 "),s("code",[t._v("docker container ls --help")]),t._v(" 查看相关属性")]),t._v(" "),s("table",[s("thead",[s("tr",[s("th",{staticStyle:{"text-align":"center"}},[t._v("名称,简写")]),t._v(" "),s("th",{staticStyle:{"text-align":"center"}},[t._v("描述")])])]),t._v(" "),s("tbody",[s("tr",[s("td",{staticStyle:{"text-align":"center"}},[t._v("--all, -a")]),t._v(" "),s("td",{staticStyle:{"text-align":"center"}},[t._v("显示所有容器(默认只显示运行的)")])]),t._v(" "),s("tr",[s("td",{staticStyle:{"text-align":"center"}},[t._v("-f, --filter filter")]),t._v(" "),s("td",{staticStyle:{"text-align":"center"}},[t._v("根据提供的条件过滤输出")])]),t._v(" "),s("tr",[s("td",{staticStyle:{"text-align":"center"}},[t._v("-n, --last int")]),t._v(" "),s("td",{staticStyle:{"text-align":"center"}},[t._v("显示最后创建的容器(包括所有状态)")])]),t._v(" "),s("tr",[s("td",{staticStyle:{"text-align":"center"}},[t._v("-l, --latest")]),t._v(" "),s("td",{staticStyle:{"text-align":"center"}},[t._v("显示最新创建的容器(包括所有状态)")])]),t._v(" "),s("tr",[s("td",{staticStyle:{"text-align":"center"}},[t._v("--no-trunc")]),t._v(" "),s("td",{staticStyle:{"text-align":"center"}},[t._v("不要截断输出")])]),t._v(" "),s("tr",[s("td",{staticStyle:{"text-align":"center"}},[t._v("-q, --quiet")]),t._v(" "),s("td",{staticStyle:{"text-align":"center"}},[t._v("静默模式,只显示容器 ID")])]),t._v(" "),s("tr",[s("td",{staticStyle:{"text-align":"center"}},[t._v("-s, --size")]),t._v(" "),s("td",{staticStyle:{"text-align":"center"}},[t._v("显示文件大小")])])])]),t._v(" "),s("h3",{attrs:{id:"启动容器"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#启动容器"}},[t._v("#")]),t._v(" 启动容器")]),t._v(" "),s("p",[t._v("启动容器有两种方式，一种是基于镜像新建一个容器并启动，另外一个是将在终止状态（stopped）的容器重新启动。")]),t._v(" "),s("p",[t._v("因为 Docker 的容器实在太轻量级了，很多时候用户都是随时删除和新创建容器。")]),t._v(" "),s("h4",{attrs:{id:"新建并启动"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#新建并启动"}},[t._v("#")]),t._v(" 新建并启动")]),t._v(" "),s("p",[t._v("主要通过 "),s("code",[t._v("docker run")]),t._v(" 命令")]),t._v(" "),s("p",[t._v("例如，从上述的 "),s("router-link",{attrs:{to:"/docker/base/3-hellword.html#运行镜像"}},[t._v("Hello World 实例")]),t._v(" 例子")],1),t._v(" "),s("p",[t._v("利用 "),s("code",[t._v("docker run")]),t._v(" 来启动容器，Docker 在后台运行的标准操作包括：")]),t._v(" "),s("ul",[s("li",[t._v("检查本地是否存在指定的镜像，不存在就从公有仓库下载")]),t._v(" "),s("li",[t._v("利用镜像创建并启动一个容器")]),t._v(" "),s("li",[t._v("分配一个文件系统，并在只读的镜像层外面挂载一层可读写层")]),t._v(" "),s("li",[t._v("从宿主主机配置的网桥接口中桥接一个虚拟接口到容器中去")]),t._v(" "),s("li",[t._v("从地址池配置一个 ip 地址给容器")]),t._v(" "),s("li",[t._v("执行用户指定的应用程序")]),t._v(" "),s("li",[t._v("执行完毕后容器被终止")])]),t._v(" "),s("div",{staticClass:"custom-block tip"},[s("p",{staticClass:"custom-block-title"},[t._v("运行的部分参数")]),t._v(" "),s("ul",[s("li",[t._v("--name：容器名")]),t._v(" "),s("li",[t._v("-p：映射宿主主机端口 "),s("code",[t._v("宿主机port:容器port")])]),t._v(" "),s("li",[t._v("-v：挂载宿主目录到容器目录 [宿主机地址]:[容器内部地址]")]),t._v(" "),s("li",[t._v("-e：设置环境变量，此处指定 root 密码")]),t._v(" "),s("li",[t._v("-d：后台运行容器")]),t._v(" "),s("li",[t._v("--restart=always: 启动 docker 时也会启动")])])]),t._v(" "),s("div",{staticClass:"language-sh line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-sh"}},[s("code",[t._v("docker run\n    --name mysql\n    -p "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("3306")]),t._v(":3306\n    -v /home/mysql/data:/var/lib/mysql\n    -v /home/mysql/conf.d:/etc/mysql/conf.d\n    -e "),s("span",{pre:!0,attrs:{class:"token assign-left variable"}},[t._v("MYSQL_ROOT_PASSWORD")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("123456")]),t._v("\n    -d mysql:5.7.19\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br"),s("span",{staticClass:"line-number"},[t._v("4")]),s("br"),s("span",{staticClass:"line-number"},[t._v("5")]),s("br"),s("span",{staticClass:"line-number"},[t._v("6")]),s("br"),s("span",{staticClass:"line-number"},[t._v("7")]),s("br")])]),s("h4",{attrs:{id:"启动已终止容器"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#启动已终止容器"}},[t._v("#")]),t._v(" 启动已终止容器")]),t._v(" "),s("p",[t._v("可以利用 "),s("code",[t._v("docker start [长ID|短ID|name]")]),t._v(" 命令，直接将一个已经终止的容器启动运行。")]),t._v(" "),s("h3",{attrs:{id:"删除容器"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#删除容器"}},[t._v("#")]),t._v(" 删除容器")]),t._v(" "),s("p",[s("code",[t._v("docker rm [container]")])]),t._v(" "),s("h3",{attrs:{id:"终止容器"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#终止容器"}},[t._v("#")]),t._v(" 终止容器")]),t._v(" "),s("p",[s("code",[t._v("docker stop [container]")])]),t._v(" "),s("p",[t._v("终止所有容器")]),t._v(" "),s("p",[s("code",[t._v("docker stop $(docker ps -a | awk '{ print $1}' | tail -n +2)")])]),t._v(" "),s("h3",{attrs:{id:"重启容器"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#重启容器"}},[t._v("#")]),t._v(" 重启容器")]),t._v(" "),s("p",[s("code",[t._v("docker restart [container]")])]),t._v(" "),s("p",[t._v("-t：关闭容器的限时，如果超时未能关闭则用 kill 强制关闭，默认值 10s，这个时间用于容器的自己保存状态")]),t._v(" "),s("h3",{attrs:{id:"进入容器"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#进入容器"}},[t._v("#")]),t._v(" 进入容器")]),t._v(" "),s("p",[s("code",[t._v("docker exec [OPTIONS] containerId COMMAND [ARG...]")])]),t._v(" "),s("div",{staticClass:"language-sh line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-sh"}},[s("code",[t._v("docker "),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("exec")]),t._v(" -it 369bf1d952a6 /bin/bash\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br")])]),s("p",[t._v("OPTIONS 参数")]),t._v(" "),s("ul",[s("li",[t._v(":分离模式: 在后台运行")]),t._v(" "),s("li",[t._v("-i :即使没有附加也保持 STDIN 打开")]),t._v(" "),s("li",[t._v("-t :分配一个伪终端")])]),t._v(" "),s("table",[s("thead",[s("tr",[s("th",{staticStyle:{"text-align":"center"}},[t._v("名称,简写")]),t._v(" "),s("th",{staticStyle:{"text-align":"center"}},[t._v("描述")])])]),t._v(" "),s("tbody",[s("tr",[s("td",{staticStyle:{"text-align":"center"}},[t._v("-d")]),t._v(" "),s("td",{staticStyle:{"text-align":"center"}},[t._v("分离模式: 在后台运行")])]),t._v(" "),s("tr",[s("td",{staticStyle:{"text-align":"center"}},[t._v("-i")]),t._v(" "),s("td",{staticStyle:{"text-align":"center"}},[t._v("即使没有附加也保持 STDIN 打开")])]),t._v(" "),s("tr",[s("td",{staticStyle:{"text-align":"center"}},[t._v("-t")]),t._v(" "),s("td",{staticStyle:{"text-align":"center"}},[t._v("分配一个伪终端")])])])]),t._v(" "),s("h3",{attrs:{id:"退出容器"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#退出容器"}},[t._v("#")]),t._v(" 退出容器")]),t._v(" "),s("p",[s("code",[t._v("ctrl + p + q")]),t._v(" or "),s("code",[t._v("exit")])]),t._v(" "),s("h3",{attrs:{id:"查询容器日志"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#查询容器日志"}},[t._v("#")]),t._v(" 查询容器日志")]),t._v(" "),s("p",[t._v("docker logs [OPTIONS] CONTAINER")]),t._v(" "),s("div",{staticClass:"language-sh line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-sh"}},[s("code",[t._v("docker logs --since 4m --tail"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("10")]),t._v(" -t aa0aae99f959cf6243338ce87c6f0f48cb6d1343f855d73ad53ef1999b453db0\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br")])]),s("p",[t._v("OPTIONS 参数")]),t._v(" "),s("table",[s("thead",[s("tr",[s("th",{staticStyle:{"text-align":"center"}},[t._v("名称,简写")]),t._v(" "),s("th",{staticStyle:{"text-align":"center"}},[t._v("描述")])])]),t._v(" "),s("tbody",[s("tr",[s("td",{staticStyle:{"text-align":"center"}},[t._v("-f")]),t._v(" "),s("td",{staticStyle:{"text-align":"center"}},[t._v("跟踪日志输出")])]),t._v(" "),s("tr",[s("td",{staticStyle:{"text-align":"center"}},[t._v("--since")]),t._v(" "),s("td",{staticStyle:{"text-align":"center"}},[t._v("显示某个开始时间的所有日志")])]),t._v(" "),s("tr",[s("td",{staticStyle:{"text-align":"center"}},[t._v("-t")]),t._v(" "),s("td",{staticStyle:{"text-align":"center"}},[t._v("显示时间戳")])]),t._v(" "),s("tr",[s("td",{staticStyle:{"text-align":"center"}},[t._v("--tail")]),t._v(" "),s("td",{staticStyle:{"text-align":"center"}},[t._v("仅列出最新 N 条容器日志")])])])]),t._v(" "),s("h3",{attrs:{id:"清理容器日志"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#清理容器日志"}},[t._v("#")]),t._v(" 清理容器日志")]),t._v(" "),s("p",[s("a",{attrs:{href:"https://www.jianshu.com/p/5583dfb6ff66",target:"_blank",rel:"noopener noreferrer"}},[t._v("相关文章"),s("OutboundLink")],1)])])}),[],!1,null,null,null);a.default=n.exports}}]);