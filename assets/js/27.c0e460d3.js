(window.webpackJsonp=window.webpackJsonp||[]).push([[27],{352:function(s,t,a){"use strict";a.r(t);var n=a(0),r=Object(n.a)({},(function(){var s=this,t=s.$createElement,a=s._self._c||t;return a("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[a("h2",{attrs:{id:"外网映射工具"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#外网映射工具"}},[s._v("#")]),s._v(" 外网映射工具")]),s._v(" "),a("div",{staticClass:"custom-block tip"},[a("p",[s._v("在做微信开发或者是对接第三方支付接口时，回调接口可能需要外网访问。\n这时候开发者在本地测试的时候，需要用到外网测试工具。\n常用的外网测试工具有 natapp（收费）、ngrok")])]),s._v(" "),a("h3",{attrs:{id:"natapp-简介"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#natapp-简介"}},[s._v("#")]),s._v(" NatApp 简介")]),s._v(" "),a("p",[s._v("服务器更新:全面支持 HTTPS 协议以及本地 SSL 证书,支持 WSS 协议.同时支持 HTTP/2 WEB 协议,支持微信小程序本地开发\n全面自动支持泛子域名与访客真实 IP 地址")]),s._v(" "),a("p",[a("strong",[s._v("Windows 用法 natapp -authtoken=9ab6b9040a624f40")])]),s._v(" "),a("p",[s._v("相关文档 "),a("a",{attrs:{href:"https://natapp.cn/",target:"_blank",rel:"noopener noreferrer"}},[s._v("https://natapp.cn/"),a("OutboundLink")],1)]),s._v(" "),a("h2",{attrs:{id:"dns-解析"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#dns-解析"}},[s._v("#")]),s._v(" DNS 解析")]),s._v(" "),a("p",[s._v("DNS（Domain Name System，域名系统）,整体过程 10 个步骤，其中前 2 个步骤是在本机完成，后 8 个步骤涉及到真正的域名解析服务器.")]),s._v(" "),a("ol",[a("li",[s._v("客户机提出域名解析请求，并将该请求发送给本地的域名服务器。")]),s._v(" "),a("li",[s._v("当本地的域名服务器收到请求后，就先查询本地的缓存，如果有该纪录项，则本地的域名服务器就直接把查询的结果返回。")])]),s._v(" "),a("p",[s._v("在 Windows 中可以通过 C:\\Windows\\System32\\drivers\\etc\\hosts 文件来设置，在 Linux 中可以通过/etc/hosts 文件来设置，用户可以将任何域名解析到任何能够访问的 IP 地址")]),s._v(" "),a("h3",{attrs:{id:""}},[a("a",{staticClass:"header-anchor",attrs:{href:"#"}},[s._v("#")])]),s._v(" "),a("h2",{attrs:{id:"gzip-压缩"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#gzip-压缩"}},[s._v("#")]),s._v(" Gzip 压缩")]),s._v(" "),a("h3",{attrs:{id:"什么是-gzip"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#什么是-gzip"}},[s._v("#")]),s._v(" 什么是 Gzip")]),s._v(" "),a("p",[s._v("Gzip 是若干种文件压缩程序的简称，通常指 GNU 计划的实现，此处的 gzip 代表 GNU zip。也经常用来表示 gzip 这种文件格式。")]),s._v(" "),a("h3",{attrs:{id:"开启配置"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#开启配置"}},[s._v("#")]),s._v(" 开启配置")]),s._v(" "),a("div",{staticClass:"language-md line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-md"}},[a("code",[a("span",{pre:!0,attrs:{class:"token title important"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("#")]),s._v(" 开启和关闭 gzip 模式 on|off")]),s._v("\n\ngzip on;\n\n"),a("span",{pre:!0,attrs:{class:"token title important"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("#")]),s._v(" gizp 压缩起点，文件大于 1k 才进行压缩")]),s._v("\n\ngzip"),a("span",{pre:!0,attrs:{class:"token italic"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("_")]),a("span",{pre:!0,attrs:{class:"token content"}},[s._v("min")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("_")])]),s._v("length 1024k;\n\n"),a("span",{pre:!0,attrs:{class:"token title important"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("#")]),s._v(" gzip 压缩级别，1-9，数字越大压缩的越好，也越占用 CPU 时间")]),s._v("\n\ngzip"),a("span",{pre:!0,attrs:{class:"token italic"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("_")]),a("span",{pre:!0,attrs:{class:"token content"}},[s._v("comp")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("_")])]),s._v("level 6;\n\n"),a("span",{pre:!0,attrs:{class:"token title important"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("#")]),s._v(" 进行压缩的文件类型。")]),s._v("\n\ngzip_types text/plain application/javascript application/x-javascript text/css application/xml text/javascript ;\n\n"),a("span",{pre:!0,attrs:{class:"token title important"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("#")]),s._v("nginx 对于静态文件的处理模块，开启后会寻找以.gz 结尾的文件，直接返回，不会占用 cpu 进行压缩，如果找不到则不进行压缩")]),s._v("\ngzip_static on\n\n"),a("span",{pre:!0,attrs:{class:"token title important"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("#")]),s._v(" 是否在 http header 中添加 Vary: Accept-Encoding，建议开启")]),s._v("\n\ngzip_vary on;\n\n"),a("span",{pre:!0,attrs:{class:"token title important"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("#")]),s._v(" 设置压缩所需要的缓冲区大小，以 4k 为单位，如果文件为 7k 则申请 2\\*4k 的缓冲区")]),s._v("\n\ngzip_buffers 4 16k;\n\n"),a("span",{pre:!0,attrs:{class:"token title important"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("#")]),s._v(" 设置 gzip 压缩针对的 HTTP 协议版本")]),s._v("\n\ngzip"),a("span",{pre:!0,attrs:{class:"token italic"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("_")]),a("span",{pre:!0,attrs:{class:"token content"}},[s._v("http")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("_")])]),s._v("version 1.1;\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br"),a("span",{staticClass:"line-number"},[s._v("16")]),a("br"),a("span",{staticClass:"line-number"},[s._v("17")]),a("br"),a("span",{staticClass:"line-number"},[s._v("18")]),a("br"),a("span",{staticClass:"line-number"},[s._v("19")]),a("br"),a("span",{staticClass:"line-number"},[s._v("20")]),a("br"),a("span",{staticClass:"line-number"},[s._v("21")]),a("br"),a("span",{staticClass:"line-number"},[s._v("22")]),a("br"),a("span",{staticClass:"line-number"},[s._v("23")]),a("br"),a("span",{staticClass:"line-number"},[s._v("24")]),a("br"),a("span",{staticClass:"line-number"},[s._v("25")]),a("br"),a("span",{staticClass:"line-number"},[s._v("26")]),a("br"),a("span",{staticClass:"line-number"},[s._v("27")]),a("br"),a("span",{staticClass:"line-number"},[s._v("28")]),a("br"),a("span",{staticClass:"line-number"},[s._v("29")]),a("br"),a("span",{staticClass:"line-number"},[s._v("30")]),a("br")])]),a("h1",{attrs:{id:"验证开启"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#验证开启"}},[s._v("#")]),s._v(" 验证开启")]),s._v(" "),a("div",{staticClass:"language-js line-numbers-mode"},[a("div",{staticClass:"highlight-lines"},[a("br"),a("div",{staticClass:"highlighted"},[s._v(" ")]),a("br"),a("br"),a("br"),a("br"),a("br"),a("br"),a("br"),a("br")]),a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[s._v("Connection"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" keep"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("alive\nContent"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("Encoding"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" gzip\nContent"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("Type"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" text"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("css\nDate"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" Sun"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("10")]),s._v(" Nov "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2019")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("11")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("04")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("58")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token constant"}},[s._v("GMT")]),s._v("\nETag"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token constant"}},[s._v("W")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"5dc65ab3-44350"')]),s._v("\nLast"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("Modified"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" Sat"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("09")]),s._v(" Nov "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2019")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("06")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("20")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("35")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token constant"}},[s._v("GMT")]),s._v("\nServer"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" nginx\nTransfer"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("Encoding"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" chunked\nVary"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" Accept"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("Encoding\n")])]),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br")])])])}),[],!1,null,null,null);t.default=r.exports}}]);